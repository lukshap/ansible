data_directory                  = '/var/lib/postgresql/9.6/main'                        # use data in another directory
hba_file                        = '/etc/postgresql/9.6/main/pg_hba.conf'                # host-based authentication file
ident_file                      = '/etc/postgresql/9.6/main/pg_ident.conf'      # ident configuration file
external_pid_file               = '/var/run/postgresql/9.6-main.pid'            # write an extra PID file
unix_socket_directories         = '/var/run/postgresql'                         # comma-separated list of directories
stats_temp_directory            = '/var/run/postgresql/9.6-main.pg_stat_tmp'
include_dir                     = 'conf.d'                                      # include files ending in '.conf' from
ssl                             = on
ssl_cert_file                   = '/etc/ssl/certs/ssl-cert-snakeoil.pem'
ssl_key_file                    = '/etc/ssl/private/ssl-cert-snakeoil.key'

listen_addresses                = '*'
port                            = {{ db.configs.postgresql_conf.port }}                                          # (change requires restart)

max_connections                 = {{ db.configs.postgresql_conf.max_connections }}                                          # (change requires restart)
shared_buffers                  = {{ db.configs.postgresql_conf.shared_buffers }}                                          # min 128kB
effective_cache_size            = {{ db.configs.postgresql_conf.effective_cache_size }}
maintenance_work_mem            = {{ db.configs.postgresql_conf.maintenance_work_mem }}
checkpoint_completion_target    = {{ db.configs.postgresql_conf.checkpoint_completion_target }}
wal_buffers                     = {{ db.configs.postgresql_conf.wal_buffers }}
default_statistics_target       = {{ db.configs.postgresql_conf.default_statistics_target }}
random_page_cost                = {{ db.configs.postgresql_conf.random_page_cost }}
effective_io_concurrency        = {{ db.configs.postgresql_conf.effective_io_concurrency }}
work_mem                        = {{ db.configs.postgresql_conf.work_mem }}
min_wal_size                    = {{ db.configs.postgresql_conf.min_wal_size }}
max_wal_size                    = {{ db.configs.postgresql_conf.max_wal_size }}
max_worker_processes            = {{ db.configs.postgresql_conf.max_worker_processes }}
max_parallel_workers_per_gather = {{ db.configs.postgresql_conf.max_parallel_workers_per_gather }}

dynamic_shared_memory_type      = posix                                         # the default is the first option
timezone                        = 'Europe/Berlin'
datestyle                       = 'iso, mdy'

log_line_prefix                 = '%m [%p] %q%u@%d '                            # special values:
log_timezone                    = 'Europe/Berlin'
log_rotation_size               = {{ db.configs.postgresql_conf.log_rotation_size }}
log_rotation_age                = {{ db.configs.postgresql_conf.log_rotation_age }}

cluster_name                    = '9.6/main'                                    # added to process titles if nonempty
lc_messages                     = 'en_US.UTF-8'                                 # locale for system error message
lc_monetary                     = 'en_US.UTF-8'                                 # locale for monetary formatting
lc_numeric                      = 'en_US.UTF-8'                                 # locale for number formatting
lc_time                         = 'en_US.UTF-8'                                 # locale for time formatting
default_text_search_config      = 'pg_catalog.english'
